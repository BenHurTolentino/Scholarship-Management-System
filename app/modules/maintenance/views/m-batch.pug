extends ../../../templates/masterpanel

block content
    .content
      .container-fluid
        .row
          .col-md-12
            .card
              .card-header.card-header-primary.card-header-icon
                button.card-icon(type='submit', data-toggle='modal', data-target='#addModal', style='border: none; text-decoration: none;', title='Add a Batch')
                  i.material-icons(style='color: #fff; font-size: 30px;') add
                |           
                h4.card-title List of Batch
              .card-body
                .table-responsive
                  table#example.table.table-striped
                    #addModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='exampleModalLabel', aria-hidden='true')
                        .modal-dialog(role='document')
                            .modal-content
                                .modal-header
                                    h5#exampleModalLabel.modal-title Add a Batch
                                    button.close(type="button", data-dismiss="modal", aria-label="Close")
                                        span(aria-hidden="true").material-icons close
                                form(method='POST', action='/maintenance/batch')
                                    .card-body
                                        .form-group.bmd-form-group
                                          label.bmd-label-floating Input Batch *               
                                          input.form-control(type="string", required="true", aria-required="true", name="Bname")
                                    .card-footer
                                        button.btn.btn-danger.btn-link(type="hidden", data-dismiss="modal", style="visibility: hidden;") Cancel
                                        button.btn(type="submit", style="background-color: #505677;") Submit
                    thead
                      tr
                        th Batch No.
                        |                   
                        th.text-right Actions
                    |               
                    tbody
                      each batch in batches
                          tr
                            td #{batch.strBatchDesc}
                            td.text-right
                              button.btn.btn-success(class="edit", type="button", data-id=batch.intBatchId, title="Edit", data-toggle='modal', data-target='#editModal', style="padding: 25px 5px 2px 5px;")
                                i.material-icons(style="margin-top: -20px;") edit
                                .ripple-container
                              #editModal.modal.fade(tabindex="-1", role="dialog", aria-labelledby="exampleModalLabel", aria-hidden="true")
                                .modal-dialog(role="document")
                                  .modal-content
                                    .modal-header
                                      h5#exampleModalLabel.modal-title Edit Batch Details
                                      button.close(type="button", data-dismiss="modal", aria-label="Close")
                                        span(aria-hidden="true").material-icons close
                                    form(method='POST', action='/maintenance/batch?_method=PUT')
                                      .card-body
                                          .form-group.bmd-form-group
                                            p.bmd-label-floating Input Batch *               
                                            input.form-control(type="string", required="true", aria-required="true", name="Bname")
                                          input.form-control(type="hidden" name="BId" id="BId" value='')
                                      .card-footer
                                          button.btn.btn-danger.btn-link(type="hidden", data-dismiss="modal", style="visibility: hidden;") Cancel
                                          button.btn(type="submit", style="background-color: #505677;") Submit
                              a.button.btn.btn-danger(href=`/maintenance/batch/${batch.intBatchId}`, title="Delete", style="padding: 25px 5px 2px 6px;")
                                i.material-icons(style="margin-top: -20px; margin-left: -1px;") close
                                |                     
                                .ripple-container
    footer.footer
        .container
            nav
                ul.footer-menu
                    li
                        a(href='#')
                            | Application
                    li
                        a(href='#')
                            | Budget Planning
                    li
                        a(href='#')
                            | Monitoring
                    li
                        a(href='#')
                            | Releasing of Stipend
                p.copyright.pull-right
                    | Â© 
                    script.
                        document.write(new Date().getFullYear())
                    | , Cong. Neptali 'Boyet' Gonzales Scholarship Management System
    script.
        $(document).ready(function() {
            $('#example').DataTable();
        } );
        $(document).on('click',".edit",function(){
            var myBId = $(this).data('id');
            $('.card-body #BId').val(myBId);
        });

